set_property BEL H6LUT [get_cells RO_PUF_i/ring_oscillator_puf_0/inst/ro_puf_inst/counter1/winner1_carry_i_9]
set_property BEL GFF2 [get_cells {RO_PUF_i/ring_oscillator_puf_0/inst/ro_puf_inst/counter1/q_reg[14]}]
set_property LOC SLICE_X38Y210 [get_cells RO_PUF_i/ring_oscillator_puf_0/inst/ro_puf_inst/counter1/winner1_carry_i_9]
set_property LOC SLICE_X38Y210 [get_cells {RO_PUF_i/ring_oscillator_puf_0/inst/ro_puf_inst/counter1/q_reg[14]}]

## Combinatorial loop
set_property ALLOW_COMBINATORIAL_LOOPS true [get_nets {RO_PUF_i/ring_oscillator_puf_0/inst/ro_puf_inst/ring0[0].ro0/o}]
set_property ALLOW_COMBINATORIAL_LOOPS true [get_nets {RO_PUF_i/ring_oscillator_puf_0/inst/ro_puf_inst/ring0[1].ro0/o}]
set_property ALLOW_COMBINATORIAL_LOOPS true [get_nets {RO_PUF_i/ring_oscillator_puf_0/inst/ro_puf_inst/ring0[2].ro0/o}]
set_property ALLOW_COMBINATORIAL_LOOPS true [get_nets {RO_PUF_i/ring_oscillator_puf_0/inst/ro_puf_inst/ring0[3].ro0/o}]
set_property ALLOW_COMBINATORIAL_LOOPS true [get_nets {RO_PUF_i/ring_oscillator_puf_0/inst/ro_puf_inst/ring0[4].ro0/o}]
set_property ALLOW_COMBINATORIAL_LOOPS true [get_nets {RO_PUF_i/ring_oscillator_puf_0/inst/ro_puf_inst/ring0[5].ro0/o}]
set_property ALLOW_COMBINATORIAL_LOOPS true [get_nets {RO_PUF_i/ring_oscillator_puf_0/inst/ro_puf_inst/ring0[6].ro0/o}]
set_property ALLOW_COMBINATORIAL_LOOPS true [get_nets {RO_PUF_i/ring_oscillator_puf_0/inst/ro_puf_inst/ring0[7].ro0/o}]
set_property ALLOW_COMBINATORIAL_LOOPS true [get_nets {RO_PUF_i/ring_oscillator_puf_0/inst/ro_puf_inst/ring0[8].ro0/o}]
set_property ALLOW_COMBINATORIAL_LOOPS true [get_nets {RO_PUF_i/ring_oscillator_puf_0/inst/ro_puf_inst/ring0[9].ro0/o}]
set_property ALLOW_COMBINATORIAL_LOOPS true [get_nets {RO_PUF_i/ring_oscillator_puf_0/inst/ro_puf_inst/ring0[10].ro0/o}]
set_property ALLOW_COMBINATORIAL_LOOPS true [get_nets {RO_PUF_i/ring_oscillator_puf_0/inst/ro_puf_inst/ring0[11].ro0/o}]
set_property ALLOW_COMBINATORIAL_LOOPS true [get_nets {RO_PUF_i/ring_oscillator_puf_0/inst/ro_puf_inst/ring0[12].ro0/o}]
set_property ALLOW_COMBINATORIAL_LOOPS true [get_nets {RO_PUF_i/ring_oscillator_puf_0/inst/ro_puf_inst/ring0[13].ro0/o}]
set_property ALLOW_COMBINATORIAL_LOOPS true [get_nets {RO_PUF_i/ring_oscillator_puf_0/inst/ro_puf_inst/ring0[14].ro0/o}]
set_property ALLOW_COMBINATORIAL_LOOPS true [get_nets {RO_PUF_i/ring_oscillator_puf_0/inst/ro_puf_inst/ring0[15].ro0/o}]
set_property ALLOW_COMBINATORIAL_LOOPS true [get_nets {RO_PUF_i/ring_oscillator_puf_0/inst/ro_puf_inst/ring1[0].ro1/o}]
set_property ALLOW_COMBINATORIAL_LOOPS true [get_nets {RO_PUF_i/ring_oscillator_puf_0/inst/ro_puf_inst/ring1[1].ro1/o}]
set_property ALLOW_COMBINATORIAL_LOOPS true [get_nets {RO_PUF_i/ring_oscillator_puf_0/inst/ro_puf_inst/ring1[2].ro1/o}]
set_property ALLOW_COMBINATORIAL_LOOPS true [get_nets {RO_PUF_i/ring_oscillator_puf_0/inst/ro_puf_inst/ring1[3].ro1/o}]
set_property ALLOW_COMBINATORIAL_LOOPS true [get_nets {RO_PUF_i/ring_oscillator_puf_0/inst/ro_puf_inst/ring1[4].ro1/o}]
set_property ALLOW_COMBINATORIAL_LOOPS true [get_nets {RO_PUF_i/ring_oscillator_puf_0/inst/ro_puf_inst/ring1[5].ro1/o}]
set_property ALLOW_COMBINATORIAL_LOOPS true [get_nets {RO_PUF_i/ring_oscillator_puf_0/inst/ro_puf_inst/ring1[6].ro1/o}]
set_property ALLOW_COMBINATORIAL_LOOPS true [get_nets {RO_PUF_i/ring_oscillator_puf_0/inst/ro_puf_inst/ring1[7].ro1/o}]
set_property ALLOW_COMBINATORIAL_LOOPS true [get_nets {RO_PUF_i/ring_oscillator_puf_0/inst/ro_puf_inst/ring1[8].ro1/o}]
set_property ALLOW_COMBINATORIAL_LOOPS true [get_nets {RO_PUF_i/ring_oscillator_puf_0/inst/ro_puf_inst/ring1[9].ro1/o}]
set_property ALLOW_COMBINATORIAL_LOOPS true [get_nets {RO_PUF_i/ring_oscillator_puf_0/inst/ro_puf_inst/ring1[10].ro1/o}]
set_property ALLOW_COMBINATORIAL_LOOPS true [get_nets {RO_PUF_i/ring_oscillator_puf_0/inst/ro_puf_inst/ring1[11].ro1/o}]
set_property ALLOW_COMBINATORIAL_LOOPS true [get_nets {RO_PUF_i/ring_oscillator_puf_0/inst/ro_puf_inst/ring1[12].ro1/o}]
set_property ALLOW_COMBINATORIAL_LOOPS true [get_nets {RO_PUF_i/ring_oscillator_puf_0/inst/ro_puf_inst/ring1[13].ro1/o}]
set_property ALLOW_COMBINATORIAL_LOOPS true [get_nets {RO_PUF_i/ring_oscillator_puf_0/inst/ro_puf_inst/ring1[14].ro1/o}]
set_property ALLOW_COMBINATORIAL_LOOPS true [get_nets {RO_PUF_i/ring_oscillator_puf_0/inst/ro_puf_inst/ring1[15].ro1/o}]

create_pblock pblock_ROPUF
resize_pblock [get_pblocks pblock_ROPUF] -add {SLICE_X34Y195:SLICE_X49Y229}
set_property EXCLUDE_PLACEMENT 1 [get_pblocks pblock_ROPUF]
#add_cells_to_pblock [get_pblocks  pblock_ROPUF] [get_cells -quiet [list ROPUF]]
#resize_pblock [get_pblocks pblock_ROPUF] -add {DSP48E2_X6Y78:DSP48E2_X9Y91}
#resize_pblock [get_pblocks pblock_ROPUF] -add {RAMB18_X5Y78:RAMB18_X6Y91}
#resize_pblock [get_pblocks pblock_ROPUF] -add {RAMB36_X5Y39:RAMB36_X6Y45}

create_pblock pblock_ringosc1
resize_pblock [get_pblocks pblock_ringosc1] -add {SLICE_X36Y208:SLICE_X37Y209}


create_pblock pblock_ringosc2
resize_pblock [get_pblocks pblock_ringosc2] -add {SLICE_X45Y208:SLICE_X46Y209}


create_pblock pblock_cmpCtr
add_cells_to_pblock [get_pblocks pblock_cmpCtr] [get_cells -quiet [list RO_PUF_i/ring_oscillator_puf_0/inst/ro_puf_inst/comp RO_PUF_i/ring_oscillator_puf_0/inst/ro_puf_inst/counter0 RO_PUF_i/ring_oscillator_puf_0/inst/ro_puf_inst/counter1]]
resize_pblock [get_pblocks pblock_cmpCtr] -add {SLICE_X36Y211:SLICE_X47Y217}
resize_pblock [get_pblocks pblock_cmpCtr] -add {DSP48E2_X7Y80:DSP48E2_X8Y81}
resize_pblock [get_pblocks pblock_cmpCtr] -add {RAMB18_X5Y80:RAMB18_X5Y81}
resize_pblock [get_pblocks pblock_cmpCtr] -add {RAMB36_X5Y36:RAMB36_X5Y36}

create_pblock pblock_additionalLogic
add_cells_to_pblock [get_pblocks pblock_additionalLogic] [get_cells -quiet [list RO_PUF_i/ring_oscillator_puf_0/inst/ro_puf_inst/CU RO_PUF_i/ring_oscillator_puf_0/inst/ro_puf_inst/LFSR0 RO_PUF_i/ring_oscillator_puf_0/inst/ro_puf_inst/SR RO_PUF_i/ring_oscillator_puf_0/inst/ro_puf_inst/refcounter]]
resize_pblock [get_pblocks pblock_additionalLogic] -add {SLICE_X34Y219:SLICE_X49Y228}
resize_pblock [get_pblocks pblock_additionalLogic] -add {DSP48E2_X6Y84:DSP48E2_X8Y85}
resize_pblock [get_pblocks pblock_additionalLogic] -add {RAMB18_X5Y84:RAMB18_X6Y85}
resize_pblock [get_pblocks pblock_additionalLogic] -add {RAMB36_X5Y38:RAMB36_X6Y38}


set_property PARENT pblock_ROPUF [get_pblocks pblock_additionalLogic]
set_property PARENT pblock_ROPUF [get_pblocks pblock_cmpCtr]
set_property PARENT pblock_ROPUF [get_pblocks pblock_ringosc1]
set_property PARENT pblock_ROPUF [get_pblocks pblock_ringosc2]


## Sys clock
#set_property -dict {PACKAGE_PIN F21 IOSTANDARD LVDS_25} [get_ports ref_clk_n]
#set_property -dict {PACKAGE_PIN G21 IOSTANDARD LVDS_25} [get_ports ref_clk_p]

set_property BEL H6LUT [get_cells {RO_PUF_i/ring_oscillator_puf_0/inst/ro_puf_inst/ring0[0].ro0/LUT6_NAND0}]
set_property LOC SLICE_X36Y209 [get_cells {RO_PUF_i/ring_oscillator_puf_0/inst/ro_puf_inst/ring0[0].ro0/LUT6_NAND0}]
set_property LOC SLICE_X36Y209 [get_cells {RO_PUF_i/ring_oscillator_puf_0/inst/ro_puf_inst/ring0[1].ro0/LUT6_NAND0}]
set_property BEL F6LUT [get_cells {RO_PUF_i/ring_oscillator_puf_0/inst/ro_puf_inst/ring0[2].ro0/LUT6_NAND0}]
set_property LOC SLICE_X36Y209 [get_cells {RO_PUF_i/ring_oscillator_puf_0/inst/ro_puf_inst/ring0[2].ro0/LUT6_NAND0}]
set_property LOC SLICE_X36Y209 [get_cells {RO_PUF_i/ring_oscillator_puf_0/inst/ro_puf_inst/ring0[3].ro0/LUT6_NAND0}]
set_property LOC SLICE_X36Y209 [get_cells {RO_PUF_i/ring_oscillator_puf_0/inst/ro_puf_inst/ring0[4].ro0/LUT6_NAND0}]
set_property BEL C6LUT [get_cells {RO_PUF_i/ring_oscillator_puf_0/inst/ro_puf_inst/ring0[5].ro0/LUT6_NAND0}]
set_property LOC SLICE_X36Y209 [get_cells {RO_PUF_i/ring_oscillator_puf_0/inst/ro_puf_inst/ring0[5].ro0/LUT6_NAND0}]
set_property LOC SLICE_X36Y209 [get_cells {RO_PUF_i/ring_oscillator_puf_0/inst/ro_puf_inst/ring0[6].ro0/LUT6_NAND0}]
set_property BEL A6LUT [get_cells {RO_PUF_i/ring_oscillator_puf_0/inst/ro_puf_inst/ring0[7].ro0/LUT6_NAND0}]
set_property LOC SLICE_X36Y209 [get_cells {RO_PUF_i/ring_oscillator_puf_0/inst/ro_puf_inst/ring0[7].ro0/LUT6_NAND0}]
set_property BEL H6LUT [get_cells {RO_PUF_i/ring_oscillator_puf_0/inst/ro_puf_inst/ring0[8].ro0/LUT6_NAND0}]
set_property LOC SLICE_X36Y208 [get_cells {RO_PUF_i/ring_oscillator_puf_0/inst/ro_puf_inst/ring0[8].ro0/LUT6_NAND0}]
set_property LOC SLICE_X36Y208 [get_cells {RO_PUF_i/ring_oscillator_puf_0/inst/ro_puf_inst/ring0[9].ro0/LUT6_NAND0}]
set_property LOC SLICE_X36Y208 [get_cells {RO_PUF_i/ring_oscillator_puf_0/inst/ro_puf_inst/ring0[10].ro0/LUT6_NAND0}]
set_property BEL E6LUT [get_cells {RO_PUF_i/ring_oscillator_puf_0/inst/ro_puf_inst/ring0[11].ro0/LUT6_NAND0}]
set_property LOC SLICE_X36Y208 [get_cells {RO_PUF_i/ring_oscillator_puf_0/inst/ro_puf_inst/ring0[11].ro0/LUT6_NAND0}]
set_property LOC SLICE_X36Y208 [get_cells {RO_PUF_i/ring_oscillator_puf_0/inst/ro_puf_inst/ring0[12].ro0/LUT6_NAND0}]
set_property BEL C6LUT [get_cells {RO_PUF_i/ring_oscillator_puf_0/inst/ro_puf_inst/ring0[13].ro0/LUT6_NAND0}]
set_property LOC SLICE_X36Y208 [get_cells {RO_PUF_i/ring_oscillator_puf_0/inst/ro_puf_inst/ring0[13].ro0/LUT6_NAND0}]
set_property LOC SLICE_X36Y208 [get_cells {RO_PUF_i/ring_oscillator_puf_0/inst/ro_puf_inst/ring0[14].ro0/LUT6_NAND0}]
set_property BEL A6LUT [get_cells {RO_PUF_i/ring_oscillator_puf_0/inst/ro_puf_inst/ring0[15].ro0/LUT6_NAND0}]
set_property LOC SLICE_X36Y208 [get_cells {RO_PUF_i/ring_oscillator_puf_0/inst/ro_puf_inst/ring0[15].ro0/LUT6_NAND0}]
set_property BEL H6LUT [get_cells {RO_PUF_i/ring_oscillator_puf_0/inst/ro_puf_inst/ring1[0].ro1/LUT6_NAND0}]
set_property LOC SLICE_X39Y209 [get_cells {RO_PUF_i/ring_oscillator_puf_0/inst/ro_puf_inst/ring1[0].ro1/LUT6_NAND0}]
set_property LOC SLICE_X39Y209 [get_cells {RO_PUF_i/ring_oscillator_puf_0/inst/ro_puf_inst/ring1[1].ro1/LUT6_NAND0}]
set_property BEL F6LUT [get_cells {RO_PUF_i/ring_oscillator_puf_0/inst/ro_puf_inst/ring1[2].ro1/LUT6_NAND0}]
set_property LOC SLICE_X39Y209 [get_cells {RO_PUF_i/ring_oscillator_puf_0/inst/ro_puf_inst/ring1[2].ro1/LUT6_NAND0}]
set_property LOC SLICE_X39Y209 [get_cells {RO_PUF_i/ring_oscillator_puf_0/inst/ro_puf_inst/ring1[3].ro1/LUT6_NAND0}]
set_property BEL D6LUT [get_cells {RO_PUF_i/ring_oscillator_puf_0/inst/ro_puf_inst/ring1[4].ro1/LUT6_NAND0}]
set_property LOC SLICE_X39Y209 [get_cells {RO_PUF_i/ring_oscillator_puf_0/inst/ro_puf_inst/ring1[4].ro1/LUT6_NAND0}]
set_property LOC SLICE_X39Y209 [get_cells {RO_PUF_i/ring_oscillator_puf_0/inst/ro_puf_inst/ring1[5].ro1/LUT6_NAND0}]
set_property BEL B6LUT [get_cells {RO_PUF_i/ring_oscillator_puf_0/inst/ro_puf_inst/ring1[6].ro1/LUT6_NAND0}]
set_property LOC SLICE_X39Y209 [get_cells {RO_PUF_i/ring_oscillator_puf_0/inst/ro_puf_inst/ring1[6].ro1/LUT6_NAND0}]
set_property LOC SLICE_X39Y209 [get_cells {RO_PUF_i/ring_oscillator_puf_0/inst/ro_puf_inst/ring1[7].ro1/LUT6_NAND0}]
set_property BEL H6LUT [get_cells {RO_PUF_i/ring_oscillator_puf_0/inst/ro_puf_inst/ring1[8].ro1/LUT6_NAND0}]
set_property LOC SLICE_X39Y208 [get_cells {RO_PUF_i/ring_oscillator_puf_0/inst/ro_puf_inst/ring1[8].ro1/LUT6_NAND0}]
set_property BEL A6LUT [get_cells {RO_PUF_i/ring_oscillator_puf_0/inst/ro_puf_inst/ring1[15].ro1/LUT6_NAND0}]
set_property LOC SLICE_X39Y208 [get_cells {RO_PUF_i/ring_oscillator_puf_0/inst/ro_puf_inst/ring1[15].ro1/LUT6_NAND0}]
set_property BEL B6LUT [get_cells {RO_PUF_i/ring_oscillator_puf_0/inst/ro_puf_inst/ring1[14].ro1/LUT6_NAND0}]
set_property LOC SLICE_X39Y208 [get_cells {RO_PUF_i/ring_oscillator_puf_0/inst/ro_puf_inst/ring1[14].ro1/LUT6_NAND0}]
set_property BEL C6LUT [get_cells {RO_PUF_i/ring_oscillator_puf_0/inst/ro_puf_inst/ring1[13].ro1/LUT6_NAND0}]
set_property LOC SLICE_X39Y208 [get_cells {RO_PUF_i/ring_oscillator_puf_0/inst/ro_puf_inst/ring1[13].ro1/LUT6_NAND0}]
set_property BEL D6LUT [get_cells {RO_PUF_i/ring_oscillator_puf_0/inst/ro_puf_inst/ring1[12].ro1/LUT6_NAND0}]
set_property LOC SLICE_X39Y208 [get_cells {RO_PUF_i/ring_oscillator_puf_0/inst/ro_puf_inst/ring1[12].ro1/LUT6_NAND0}]
set_property BEL G6LUT [get_cells {RO_PUF_i/ring_oscillator_puf_0/inst/ro_puf_inst/ring1[9].ro1/LUT6_NAND0}]
set_property LOC SLICE_X39Y208 [get_cells {RO_PUF_i/ring_oscillator_puf_0/inst/ro_puf_inst/ring1[9].ro1/LUT6_NAND0}]
set_property BEL F6LUT [get_cells {RO_PUF_i/ring_oscillator_puf_0/inst/ro_puf_inst/ring1[10].ro1/LUT6_NAND0}]
set_property LOC SLICE_X39Y208 [get_cells {RO_PUF_i/ring_oscillator_puf_0/inst/ro_puf_inst/ring1[10].ro1/LUT6_NAND0}]
set_property BEL CARRY8 [get_cells RO_PUF_i/ring_oscillator_puf_0/inst/ro_puf_inst/comp/winner1_carry]
set_property BEL CARRY8 [get_cells RO_PUF_i/ring_oscillator_puf_0/inst/ro_puf_inst/comp/winner1_carry__1]
set_property LOC SLICE_X38Y210 [get_cells RO_PUF_i/ring_oscillator_puf_0/inst/ro_puf_inst/comp/winner1_carry]
set_property LOC SLICE_X38Y212 [get_cells RO_PUF_i/ring_oscillator_puf_0/inst/ro_puf_inst/comp/winner1_carry__1]
set_property BEL HFF2 [get_cells {RO_PUF_i/ring_oscillator_puf_0/inst/ro_puf_inst/counter1/q_reg[15]}]
set_property LOC SLICE_X38Y210 [get_cells {RO_PUF_i/ring_oscillator_puf_0/inst/ro_puf_inst/counter1/q_reg[15]}]

#set_property PACKAGE_PIN G21 [get_ports CLK100MHZ]

##Switches
set_property -dict {PACKAGE_PIN AN14 IOSTANDARD LVCMOS33} [get_ports {switch[0]}]
set_property -dict {PACKAGE_PIN AP14 IOSTANDARD LVCMOS33} [get_ports {switch[1]}]


#LED 2 and 3
# led 0 .. 7 => ag14, af13, ae13, aj14, aj15, ah13, ah14, al12
set_property IOSTANDARD LVCMOS33 [get_ports *led]
set_property PACKAGE_PIN AG14 [get_ports {led[0]}]
set_property PACKAGE_PIN AF13 [get_ports {led[1]}]
set_property PACKAGE_PIN AE13 [get_ports {led[2]}]

set_property PACKAGE_PIN AJ14 [get_ports {led[3]}]
set_property PACKAGE_PIN AJ15 [get_ports {led[4]}]
set_property PACKAGE_PIN AH13 [get_ports {led[5]}]
set_property PACKAGE_PIN AH14 [get_ports {led[6]}]
set_property PACKAGE_PIN AL12 [get_ports {led[7]}]

##Buttons

##USB-RS232 Interface


set_property PACKAGE_PIN E13 [get_ports uart_rxd]
set_property PACKAGE_PIN F13 [get_ports uart_txd]
set_property IOSTANDARD LVCMOS33 [get_ports uart_rxd]
set_property IOSTANDARD LVCMOS33 [get_ports uart_txd]

set_property BEL E6LUT [get_cells {RO_PUF_i/ring_oscillator_puf_0/inst/ro_puf_inst/ring1[11].ro1/LUT6_NAND0}]
set_property LOC SLICE_X39Y208 [get_cells {RO_PUF_i/ring_oscillator_puf_0/inst/ro_puf_inst/ring1[11].ro1/LUT6_NAND0}]
set_property C_CLK_INPUT_FREQ_HZ 300000000 [get_debug_cores dbg_hub]
set_property C_ENABLE_CLK_DIVIDER false [get_debug_cores dbg_hub]
set_property C_USER_SCAN_CHAIN 1 [get_debug_cores dbg_hub]
connect_debug_port dbg_hub/clk [get_nets clk]
